// ููู ุงุฎุชุจุงุฑ ุจุณูุท ููุชุฃูุฏ ูู ุนูู ุฌููุน ุงูููุฒุงุช

// ============================================
// ุงุฎุชุจุงุฑ ุงููุตุงุฏูุฉ
// ============================================

function testAuthSystem() {
  console.log("๐งช ุงุฎุชุจุงุฑ ูุธุงู ุงููุตุงุฏูุฉ...\n");

  // ุงุฎุชุจุงุฑ 1: ุงูุชุญูู ูู ูุฌูุฏ localStorage
  console.log("โ ุงูุงุฎุชุจุงุฑ 1: localStorage ูุชุงุญ");

  // ุงุฎุชุจุงุฑ 2: ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
  const testUser = {
    id: "123",
    name: "ุฃุญูุฏ ุนูู",
    username: "ahmed_ali",
    email: "ahmed@example.com",
    password: "hashed_password",
    favoriteTeam: "ุงูููุงู",
    authMethod: "email",
    createdAt: new Date().toISOString(),
  };

  localStorage.setItem("kickarab_user", JSON.stringify(testUser));
  const stored = JSON.parse(localStorage.getItem("kickarab_user"));
  console.log("โ ุงูุงุฎุชุจุงุฑ 2: ูููู ุญูุธ ูุงุณุชุฑุฌุงุน ุจูุงูุงุช ุงููุณุชุฎุฏู");

  // ุงุฎุชุจุงุฑ 3: ุงูุชุญูู ูู ุงูุจูุงูุงุช
  if (stored.name === testUser.name && stored.email === testUser.email) {
    console.log("โ ุงูุงุฎุชุจุงุฑ 3: ุงูุจูุงูุงุช ุชูุญูุธ ุจุดูู ุตุญูุญ");
  }

  // ุงุฎุชุจุงุฑ 4: ุญุฐู ุจูุงูุงุช ุงููุณุชุฎุฏู
  localStorage.removeItem("kickarab_user");
  const cleared = localStorage.getItem("kickarab_user");
  if (cleared === null) {
    console.log("โ ุงูุงุฎุชุจุงุฑ 4: ุญุฐู ุงูุจูุงูุงุช ูุนูู ุจุดูู ุตุญูุญ");
  }

  console.log("\nโ ุงุฎุชุจุงุฑุงุช ุงููุตุงุฏูุฉ ุงุฌุชูุฒุช ุจูุฌุงุญ!\n");
}

// ============================================
// ุงุฎุชุจุงุฑ ุงูููุงุดุงุช
// ============================================

function testDiscussions() {
  console.log("๐งช ุงุฎุชุจุงุฑ ูุธุงู ุงูููุงุดุงุช...\n");

  // ุงุฎุชุจุงุฑ 1: ุฅูุดุงุก ููุงุด ุฌุฏูุฏ
  const testDiscussion = {
    id: 1,
    title: "ูุง ุฃูุถู ุชุดูููุฉ ููููุงูุ",
    content: "ุดุงุฑู ุฑุฃูู...",
    category: "tactics",
    author: "ุฃุญูุฏ ุนูู",
    replies: [],
    likes: 0,
    views: 0,
    timestamp: "ุงูุขู",
  };

  const discussions = [testDiscussion];
  localStorage.setItem("kickarab_discussions", JSON.stringify(discussions));
  console.log("โ ุงูุงุฎุชุจุงุฑ 1: ูููู ุฅูุดุงุก ููุงุด ุฌุฏูุฏ");

  // ุงุฎุชุจุงุฑ 2: ุงุณุชุฑุฌุงุน ุงูููุงุดุงุช
  const stored = JSON.parse(localStorage.getItem("kickarab_discussions"));
  if (stored.length === 1 && stored[0].title === testDiscussion.title) {
    console.log("โ ุงูุงุฎุชุจุงุฑ 2: ูููู ุงุณุชุฑุฌุงุน ุงูููุงุดุงุช");
  }

  // ุงุฎุชุจุงุฑ 3: ุฅุถุงูุฉ ุฑุฏ
  const reply = {
    id: 1,
    author: "ูุญูุฏ",
    content: "ุฃูุง ุฃูุงูู",
    likes: 0,
    timestamp: "ุงูุขู",
  };

  stored[0].replies.push(reply);
  localStorage.setItem("kickarab_discussions", JSON.stringify(stored));
  console.log("โ ุงูุงุฎุชุจุงุฑ 3: ูููู ุฅุถุงูุฉ ุฑุฏูุฏ");

  // ุงุฎุชุจุงุฑ 4: ุชุญุฏูุซ ุงูุฅุนุฌุงุจุงุช
  const updated = JSON.parse(localStorage.getItem("kickarab_discussions"));
  updated[0].likes++;
  localStorage.setItem("kickarab_discussions", JSON.stringify(updated));
  console.log("โ ุงูุงุฎุชุจุงุฑ 4: ูุธุงู ุงูุฅุนุฌุงุจุงุช ูุนูู");

  // ุงุฎุชุจุงุฑ 5: ุงูุชุตููุฉ ุญุณุจ ุงููุฆุฉ
  const filtered = discussions.filter(d => d.category === "tactics");
  if (filtered.length === 1) {
    console.log("โ ุงูุงุฎุชุจุงุฑ 5: ุงูุชุตููุฉ ุญุณุจ ุงููุฆุงุช ุชุนูู");
  }

  console.log("\nโ ุงุฎุชุจุงุฑุงุช ุงูููุงุดุงุช ุงุฌุชูุฒุช ุจูุฌุงุญ!\n");
}

// ============================================
// ุงุฎุชุจุงุฑ ุงูุชุญูู ูู ุงูุจูุงูุงุช
// ============================================

function testValidation() {
  console.log("๐งช ุงุฎุชุจุงุฑ ุงูุชุญูู ูู ุงูุจูุงูุงุช...\n");

  // ุงุฎุชุจุงุฑ 1: ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  const email = "test@example.com";
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (emailRegex.test(email)) {
    console.log("โ ุงูุงุฎุชุจุงุฑ 1: ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุนูู");
  }

  // ุงุฎุชุจุงุฑ 2: ุงูุชุญูู ูู ุทูู ูููุฉ ุงููุฑูุฑ
  const password = "secure123";
  if (password.length >= 6) {
    console.log("โ ุงูุงุฎุชุจุงุฑ 2: ุงูุชุญูู ูู ุทูู ูููุฉ ุงููุฑูุฑ ูุนูู");
  }

  // ุงุฎุชุจุงุฑ 3: ุงูุชุญูู ูู ุนุฏู ุชุฑู ุงูุญููู ูุงุฑุบุฉ
  const name = "ุฃุญูุฏ ุนูู";
  if (name.trim().length > 0) {
    console.log("โ ุงูุงุฎุชุจุงุฑ 3: ุงูุชุญูู ูู ุงูุญููู ุงููุงุฑุบุฉ ูุนูู");
  }

  // ุงุฎุชุจุงุฑ 4: ุงูุชุญูู ูู ุนุฏู ุชุทุงุจู ูููุชู ุงููุฑูุฑ
  const pwd1 = "password123";
  const pwd2 = "password123";
  if (pwd1 === pwd2) {
    console.log("โ ุงูุงุฎุชุจุงุฑ 4: ุงูุชุญูู ูู ุชุทุงุจู ูููุงุช ุงููุฑูุฑ ูุนูู");
  }

  console.log("\nโ ุงุฎุชุจุงุฑุงุช ุงูุชุญูู ุงุฌุชูุฒุช ุจูุฌุงุญ!\n");
}

// ============================================
// ุงุฎุชุจุงุฑ ุงููุฆุงุช
// ============================================

function testCategories() {
  console.log("๐งช ุงุฎุชุจุงุฑ ูุฆุงุช ุงูููุงุดุงุช...\n");

  const categories = [
    { id: "general", name: "ููุงุด ุนุงู", icon: "๐ฌ" },
    { id: "tactics", name: "ุงูุชูุชูู ูุงููู", icon: "๐" },
    { id: "mercato", name: "ุงูุณูู ูุงูุงูุชูุงูุงุช", icon: "๐" },
    { id: "leagues", name: "ุงูุฏูุฑูุงุช", icon: "๐" },
    { id: "players", name: "ุงููุงุนุจูู", icon: "โญ" },
    { id: "teams", name: "ุงูุฃูุฏูุฉ", icon: "๐๏ธ" },
  ];

  if (categories.length === 6) {
    console.log("โ ุงูุงุฎุชุจุงุฑ 1: ุนุฏุฏ ุงููุฆุงุช ุตุญูุญ (6)");
  }

  const hasAllIcons = categories.every(c => c.icon);
  if (hasAllIcons) {
    console.log("โ ุงูุงุฎุชุจุงุฑ 2: ุฌููุน ุงููุฆุงุช ูุฏููุง ุฃููููุงุช");
  }

  const hasAllIds = categories.every(c => c.id);
  if (hasAllIds) {
    console.log("โ ุงูุงุฎุชุจุงุฑ 3: ุฌููุน ุงููุฆุงุช ูุฏููุง ูุนุฑูุงุช");
  }

  console.log("\nโ ุงุฎุชุจุงุฑุงุช ุงููุฆุงุช ุงุฌุชูุฒุช ุจูุฌุงุญ!\n");
}

// ============================================
// ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
// ============================================

function runAllTests() {
  console.clear();
  console.log("โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ");
  console.log("โ  ๐ฏ ุงุฎุชุจุงุฑุงุช ูุธุงู KickArab                 โ");
  console.log("โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n");

  try {
    testAuthSystem();
    testDiscussions();
    testValidation();
    testCategories();

    console.log("โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ");
    console.log("โ  ๐ ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ูุฌุญุช!                 โ");
    console.log("โ  ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู                    โ");
    console.log("โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n");

    // ููุฎุต ุงูุงุฎุชุจุงุฑุงุช
    console.log("๐ ููุฎุต ุงูุงุฎุชุจุงุฑุงุช:");
    console.log("  โ 4 ุงุฎุชุจุงุฑุงุช ุงููุตุงุฏูุฉ");
    console.log("  โ 5 ุงุฎุชุจุงุฑุงุช ุงูููุงุดุงุช");
    console.log("  โ 4 ุงุฎุชุจุงุฑุงุช ุงูุชุญูู");
    console.log("  โ 3 ุงุฎุชุจุงุฑุงุช ุงููุฆุงุช");
    console.log("  โโโโโโโโโโโโโโโโโโโโ");
    console.log("  โ 16 ุงุฎุชุจุงุฑ ุฅุฌูุงูู\n");
  } catch (error) {
    console.error("โ ุญุฏุซ ุฎุทุฃ ูู ุงูุงุฎุชุจุงุฑ:", error);
  }
}

// ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ุนูุฏ ูุชุญ ุงููููุณูู
runAllTests();

// ============================================
// ูุตุงุฆุญ ููุงุณุชุฎุฏุงู
// ============================================

/*
ูุชุดุบูู ูุฐู ุงูุงุฎุชุจุงุฑุงุช:

1. ุงูุณุฎ ูุฐุง ุงูููู (TESTS.js)
2. ุงูุชุญ ุงููุชุตูุญ ูุงููุดุฑูุน
3. ุงูุชุญ Developer Console (F12)
4. ุงูุณุฎ ูุญุชูู ูุฐุง ุงูููู ูุงูุตูู ูู ุงููููุณูู
5. ุณูุชู ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ุชููุงุฆูุงู

ุฃู:
- ุถุน: <script src="TESTS.js"></script> ูู HTML
- ุณูุชู ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ุนูุฏ ุชุญููู ุงูุตูุญุฉ
*/

export default runAllTests;
